<p>
	<a ng-click="agregarOperacion()" class="waves-effect waves-light btn"><i class="material-icons left">note_add</i>Agregar plan de gastos</a>
	<!--<table>
		<thead>
			<tr>
				<td>
					Fecha
				</td>
				<td>
					Descripción
				</td>
				<td>
					UID
				</td>
				<td>
					Operación
				</td>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="operacion in operaciones">
				<td>
					{{operacion.fechaHora | date:'dd/MM/yyyy HH:mm' }}
				</td>
				<td>
					<div class="input-field">
			          <input id="txt_desc" type="text" class="validate" ng-model="operacion.descripcion">
			          <label for="txt_desc">Descripción</label>
			        </div>
				</td>
				<td>
					{{operacion.guid.substring(1, 6)}}...
				</td>
				<td>
					<a ng-click="operacion.agregarIncurrido()" class="waves-effect waves-light btn"><i class="material-icons left">payment</i>Incurrir</a>
					<a ng-click="EliminarOperacion(operacion)" class="waves-effect waves-light btn"><i class="material-icons left">delete</i></a>
				</td>
			</tr>
		</tbody>
	</table>-->

	 <div class="row">
        <div class="col s12 m12">
          <div ng-repeat="operacion in operaciones" class="card blue-grey darken-1">
            <div class="card-content white-text">
            	<div class="row col s12 m12">
            		<span class="card-title tooltipped" data-position="bottom" data-delay="50" data-tooltip="{{operacion.guid.substring(1, 6)}}...">{{operacion.fechaHora | date:'dd/MM/yyyy HH:mm' }}</span>
            	</div>
            	<div class="row col s12 m12">
	               	<div class="input-field col s12 m9">
				        <input id="txt_desc" type="text" class="validate" ng-model="operacion.descripcion">
				        <label for="txt_desc">Descripción</label>
				    </div>
				    <div class="input-field col s12 m3">
				        <input id="txt_monto" type="text" class="validate" ng-model="operacion.monto">
				        <label for="txt_monto">Presupuesto disponible</label>
				    </div>
			    </div>
			    <table ng-show="operacion.incurridos.length > 0">
					<thead>
						<tr>
							<td>
								Fecha
							</td>
							<td>
								Descripción
							</td>
							<td>
								Valor
							</td>
							<td>
								UID
							</td>
							<td>
								Operación
							</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="incurrido in operacion.incurridos">
							<td>
								{{incurrido.fechaHora | date:'dd/MM/yyyy HH:mm' }}
							</td>
							<td>
								<div class="input-field">
						          <input id="txt_desc_inc_{{incurrido.guid}}" type="text" class="validate" ng-model="incurrido.descripcion">
						          <label for="txt_desc_inc_{{incurrido.guid}}">Descripción</label>
						        </div>
							</td>
							<td>
								<div class="input-field">
						          <input id="txt_val_inc_{{incurrido.guid}}" type="text" class="validate" ng-model="incurrido.valor">
						          <label for="txt_val_inc_{{incurrido.guid}}">Valor</label>
						        </div>
							</td>
							<td>
								{{incurrido.guid.substring(1, 6)}}...
							</td>
							<td>
								<a ng-click="operacion.eliminarIncurrido(incurrido)" class="waves-effect waves-light btn"><i class="material-icons left">delete</i></a>
							</td>
						</tr>
					</tbody>
				</table>
				<p>
					<b>Total: ${{operacion.sumarTotal()}}</b>
				</p>
            </div>
            <div class="card-action">
					<a ng-click="operacion.agregarIncurrido()" class="waves-effect waves-light btn"><i class="material-icons left">payment</i>Incurrir</a>
					<a ng-click="EliminarOperacion(operacion)" class="waves-effect waves-light btn"><i class="material-icons left">delete</i></a>
            </div>
          </div>
        </div>
      </div>

      <!--
    <div ng-repeat="operacion in operaciones">
        Operación: {{operacion.guid}}
        <p ng-click="operacion.agregarIncurrido()">[+ Inc]</p>
        <div ng-repeat="incurrido in operacion.incurridos">
        - Incurrido: {{incurrido.guid}}
	    </div>
    </div>
    -->
</p>
